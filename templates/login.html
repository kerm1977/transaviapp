<!-- login.html -->
{% extends "base.html" %}

{% block title %}Iniciar Sesión{% endblock %}

{% block content %}
<div class="auth-card">
    <h1 style="text-align: center; color: var(--clr-main); margin-bottom: 25px;">Iniciar Sesión</h1>
    
    <form method="POST" action="{{ url_for('auth.login') }}">
        
        <!-- Campo de Email/Usuario -->
        <div class="input-group">
            <label for="identifier">Email o Usuario:</label>
            <input type="text" id="identifier" name="identifier" value="{{ request.form.identifier or '' }}" required>
        </div>

        <!-- Campo de Contraseña con Ojo (Toggle Password) -->
        <div class="input-group">
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required>
            <span class="toggle-password" onclick="togglePasswordVisibility('password')">
                <ion-icon name="eye-off-outline" id="icon-password"></ion-icon>
            </span>
        </div>

        <!-- Opciones Adicionales -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; font-size: 0.9em;">
            
            <!-- Checkbox de Mantener Sesión Activa (Recordar Contraseña en el prompt) -->
            <div style="display: flex; align-items: center;">
                <input type="checkbox" id="remember_me" name="remember_me" style="margin-right: 5px; accent-color: var(--clr-main);">
                <label for="remember_me" style="margin: 0; cursor: pointer;">Mantener sesión activa</label>
            </div>
            
            <!-- Enlace de Recordar Contraseña (Enlace que lleva a un placeholder) -->
            <a href="#" style="color: var(--clr-main); text-decoration: none;">¿Olvidaste tu contraseña?</a>
        </div>

        <button type="submit" class="btn-primary">Entrar</button>
        
    </form>
    
    <p style="text-align: center; margin-top: 20px; font-size: 0.9em;">
        ¿Aún no tienes una cuenta? 
        <a href="{{ url_for('auth.register') }}" style="color: var(--clr-main); text-decoration: none; font-weight: bold;">Regístrate aquí</a>
    </p>

</div>
{% endblock %}

{% block scripts %}
<script>
    // Función para mostrar/ocultar la contraseña
    function togglePasswordVisibility(fieldId) {
        const field = document.getElementById(fieldId);
        const icon = document.getElementById(`icon-${fieldId}`);
        if (field.type === "password") {
            field.type = "text";
            icon.name = "eye-outline";
        } else {
            field.type = "password";
            icon.name = "eye-off-outline";
        }
    }
</script>
{% endblock %}
